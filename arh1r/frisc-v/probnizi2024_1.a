
main
; s0 - adresa gpio0
; s1 - adresa gpio1
; s2 - konstanta 1

        lui     sp, %hi(0x10000)
        addi    sp, sp, %lo(0x10000)

        lui     s0, %hi(0xffff1000)
        addi    s0, s0, %lo(0xffff1000)

        lui     s1, %hi(0xffff2000)
        addi    s1, s1, %lo(0xffff2000)


await1
        lw      t0, 0(s0)
        andi    t0, t0, 1
        bne     t0, s2, await1


kraj
        halt